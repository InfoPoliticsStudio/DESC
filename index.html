<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="icon" href="https://i.postimg.cc/Fzngfzcv/14.png">
    <link rel="stylesheet" href="index.css">
    <title>DESC - หน้าหลัก</title>
    <style>
        @keyframes marquee {
            0% {
                transform: translateX(100%);
            }
            100% {
                transform: translateX(-100%);
            }
        }

        .marquee {
            display: inline-block;
            white-space: nowrap;
            padding-left: 100%;
            animation: marquee 20s linear infinite;
        }
        h1.aaa{  
            padding: 5px 0;
          font-size: 24px;
          font-weight: normal;
          background: var(--bg-desc);
          color: #ffffff;
          z-index: 0;
          position: unset;
        }
    </style>
</head>

<body>
    <div class="body">      
        <div class="fixed">
            <header>
                <div class="navbar">
                    <div class="logo">
                        <a><img src="https://i.postimg.cc/s2L9TvxN/download.gif" alt="" height="50px" srcset=""></a>
                    </div>
                    <ul class="links">
                        <li><a class="active hd" href="index">หน้าหลัก</a></li>
                        <li><a class="hd" href="members">สมาชิก</a></li>
                        <li><a class="hd" href="/board">กรรมการบริหาร</a></li>
                        <li><a class="hd" href="statute">ข้อบังคับ</a></li>
                    </ul>
                    <a href="login" class="action-btn">เข้าสู่ระบบ</a>
                    <div class="toggle_btn">
                        <i class="fa-solid fa-bars"></i>
                    </div>
                </div>
                <div class="dropdown_menu">
                    <li><a class="active hd" href="index">หน้าหลัก</a></li>
                    <li><a class="hd" href="members">สมาชิก</a></li>
                    <li><a class="hd" href="/board">กรรมการบริหาร</a></li>
                    <li><a class="hd" href="statute">ข้อบังคับ</a></li>
                    <li><a class="hd" href="login" class="action-btn">เข้าสู่ระบบ</a></li>
                </div>
            </header>
        </div>
    </div>
    <main>
        <section id="hero">
            <h1 class="aaa">
                <span class="marquee" style="font-size: 24px;">ยินดีต้อนรับเข้าสู่เว็บไซต์สภานักเรียนเตรียมวิศวกรรม โรงเรียนดาราวิทยาลัย - Welcome to Dara Academy Engineering Student Council website..</span>
            </h1>

            <center><h1 style="font-family: 'Kanit', sans-serif;">Menu</h1></center>
            <table class="MeNu" style="width: 100%; padding: 0 35px;">
                <tr>
                    <td style="color: #fff;"><div class="td"><a href="#" class="piset">ประชุมใหญ่สามัญประจำปี</a></div></td>
                    <td style="color: #fff;"><div class="td"><a href="#" class="piset">กรรมการบริหาร</a></div></td>
                    <td style="color: #fff;"><div class="td"><a href="https://sites.google.com/view/desc-member/desc" class="piset">สมาชิก</a></div></td>
                    <td style="color: #fff;"><div class="td"><a href="#" class="piset">นักเรียนวิศวกรรมดีเด่น</a></div></td>
                </tr>
            </table>

            <div class="flex">
                    <div class="row">
                        <div class="column first">
                          <div class="box-members first" id="member-info">
                            <div class="member-count">
                                <div class="data">
                                    <div class="gen">
                                        <div class="left-gen"></div>
                                        <div class="gen">
                                            <div class="num-gen" id="numGen">0</div>
                                        </div>
                                    </div>
                                    <h4 style="margin-top: 61px;margin-left: 26px;color: #fff;font-size: 11px;" id="name"></h4>
                                    <h5 style="margin-top: 11px;margin-left: 26px;color: #fff;font-size: 11px;" id="en-id"></h5>
                                    <h5 style="margin-top: 11px;margin-left: 26px;color: #fff;font-size: 11px;" id="st-id"></h5>
                                    <h5 style="margin-top: 11px;margin-left: 26px;color: #fff;font-size: 11px;">
                                        <ul>
                                            <li>สมาชิกสภานักเรียนเตรียมวิศวกรรมศาสตร์</li> 
                                            <li id="pos"></li> 
                                        </ul>
                                    </h5>
                                </div>
                            </div>
                          </div>
                            <style>
      
.gen {
    display: flex;
    justify-content: space-between;
    color: #fff;
}
  
.text-gen {
    font-size: 14px;
    margin-top: 5px;
}
                                
div#numGen {
    margin: 0 10px 0 8px;
    font-size: 32px;
    font-weight: 800;
}
                                
.row {
    display: flex;
}
                                
.column.first {
    float: left;
    width: 60%;
    padding: 10px;
    height: auto;
}
                                
.column.end {
    width: 40%;
    padding: 10px;
    height: auto;
}
                                
.box-members.first {
    margin: auto;
    background: url('https://i.postimg.cc/g2BTVfxz/image.png') no-repeat center center;
    background-size: cover;
    border-radius: 5px;
    height: 254px;
    width: 400px;
}
                                
.column.end .column label {
    font-size: 14px;
}

.column.end .column input,
.column.end .column select {
    padding: 5px;
    margin-top: 10px;
    width: 100%;
}
#download-btn {
    background-color: #cf0000;
    color: white;
    padding: 10px 15px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 14px;
}

#download-btn:hover {
    background-color: #9c0000;
}

                            </style>
<script>
// Function to update the displayed member info based on the student ID
async function updateMemberInfo() {
    const studentId = document.getElementById('student-id').value;

    try {
        // Fetch the data from member.json
        const response = await fetch('member.json');
        const members = await response.json();

        // Find the member that matches the entered student ID
        const member = members.find(m => m['st-id'] === studentId);

        if (member) {
            document.getElementById('numGen').innerText = member['numGen']; // Update numGen
            document.getElementById('name').innerText = member['name'];
            document.getElementById('en-id').innerText = member['en-id'];
            document.getElementById('st-id').innerText = member['st-id'];
            document.getElementById('pos').innerText = member['pos'];
        } else {
            // Clear fields if no matching member is found
            document.getElementById('numGen').innerText = "0";  // Reset numGen to 0
            document.getElementById('name').innerText = "No Data";
            document.getElementById('en-id').innerText = "N/A";
            document.getElementById('st-id').innerText = "N/A";
            document.getElementById('pos').innerText = "";
        }
    } catch (error) {
        console.error("Error fetching member data: ", error);
    }
}

// Function to download the content of box-members as a PNG
function downloadPNG() {
    const memberInfo = document.getElementById('member-info');

    // Ensure the background image is fully loaded
    const backgroundImg = new Image();
    backgroundImg.src = 'https://i.postimg.cc/g2BTVfxz/image.png';
    backgroundImg.onload = function() {
        // Once the background image is loaded, capture the content
        html2canvas(memberInfo, { width: 800, height: 508 }).then(function (canvas) {
            // Convert canvas to data URL
            const imgData = canvas.toDataURL("image/png");

            // Create a temporary link element to trigger the download
            const link = document.createElement('a');
            link.href = imgData;
            link.download = 'member-info.png';

            // Append the link to the body and click it
            document.body.appendChild(link);
            link.click();

            // Remove the link from the document
            document.body.removeChild(link);
        });
    };
}

</script>
                        </div>
                        <div class="column end">
                          <div class="row">
                              <div class="column">
                                <h4>กรุณากรอกรหัสนักเรียน</h4>
                                <label for="student-id">รหัสนักเรียน:</label>
                                <input type="text" id="student-id" placeholder="Enter Student ID" oninput="updateMemberInfo()">
                                  <br><br>
                                    <!-- Download PNG button -->
                                    <button id="download-btn" onclick="downloadPNG()">Download PNG</button>
                                  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
                              </div>
                          </div>
                        </div>
                      </div>
                </div>
            
            <!-- <div class="w3-col">
                <div class="w3-col-2">
                    <center>ปฎิทินการประชุมใหญ่สามัญประจำปี</center><br>
                    <iframe src="https://calendar.google.com/calendar/embed?height=1000&wkst=1&bgcolor=%23D50000&ctz=Asia%2FBangkok&mode=MONTH&showTitle=1&showNav=1&showDate=1&showPrint=0&showTabs=1&showCalendars=1&title=%E0%B8%9B%E0%B8%8E%E0%B8%B4%E0%B8%97%E0%B8%B4%E0%B8%99%E0%B8%81%E0%B8%B2%E0%B8%A3%E0%B8%9B%E0%B8%A3%E0%B8%B0%E0%B8%8A%E0%B8%B8%E0%B8%A1%E0%B9%83%E0%B8%AB%E0%B8%8D%E0%B9%88%E0%B8%AA%E0%B8%B2%E0%B8%A1%E0%B8%B1%E0%B8%8D%E0%B8%9B%E0%B8%A3%E0%B8%B0%E0%B8%88%E0%B8%B3%E0%B8%9B%E0%B8%B5&src=aW5mby5kYXJhLmVjc0BnbWFpbC5jb20&src=YWRkcmVzc2Jvb2sjY29udGFjdHNAZ3JvdXAudi5jYWxlbmRhci5nb29nbGUuY29t&src=dGgudGgjaG9saWRheUBncm91cC52LmNhbGVuZGFyLmdvb2dsZS5jb20&color=%23039BE5&color=%2333B679&color=%230B8043" style="border-width:0" width="800" height="1000" frameborder="0" scrolling="no"></iframe>
                </div>
            </div> 
            -->
            
        </section>
    </main>
    
    <footer>
        <div class="row">
            <div class="col">
                <img src="https://i.postimg.cc/bvqN4TDG/descfooter.png" class="logos">
                <p>text</p>
            </div>
            <div class="col">
                <h3>สำนักงานใหญ่</h3>
                <p>ห้อง Pre-Engineering Space</p>
                <p>ชั้น 1 อาคารอนุสรณ์ 100 ปี</p>
                <p class="email-id">info.dara.ecs@gmail.com</p>
                <h4>+66 - 06 3687 9505</h4>
            </div>
            <div class="col">
                <h3>Munu</h3>
                <ul class="ul">
                    <li class="li"><a href="index">หน้าหลัก</a></li>
                    <li class="li"><a href="#">ประชุมใหญ่สามัญประจำปี</a></li>
                    <li class="li"><a href="https://i.ibb.co/c23sXYj/Beige-Modern-Business-Company-Organization-Chart-Graph.png">กรรมการบริหาร</a></li>
                    <li class="li"><a class="active">สมาชิก</a></li>
                </ul>
            </div>
            <div class="col">
                <h3>ติดต่อ</h3>
                <form action="" >
                    <i class="fa-regular fa-envelope"></i>
                    <input type="email" placeholder="Enter your Email id" required>
                    <button type="submit"><i class="fa-solid fa-arrow-right fas"></i></button>
                </form>
                <div class="social-icons">
                    <a href="https://www.youtube.com/@DESC2021"><i class="fa-brands fa-youtube"></i></a>
                    <a href=""><i class="fa-brands fa-facebook"></i></a>
                </div>  
            </div>
        </div>
    </footer>
  <script src="script.js"></script>
</body>
</html>

<script>
    const toggleBtn = document.querySelector('.toggle_btn')
    const toggleBtnIcon = document.querySelector('.toggle_btn i')
    const dropDownMenu = document.querySelector('.dropdown_menu')

    toggleBtn.onclick = function () {
        dropDownMenu.classList.toggle('open')
        const isOpen = dropDownMenu.classList.contains('open')

        toggleBtnIcon.classList = isOpen
        ? 'fa-solid fa-xmark'
        : 'fa-solid fa-bars'
    }
</script>
