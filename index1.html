<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DARA ESC</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Kanit:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Anuphan:wght@100..700&amp;family=Bai+Jamjuree:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;1,200;1,300;1,400;1,500;1,600;1,700&amp;display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Bai+Jamjuree&display=swap" rel="stylesheet">
  <link href="/assets/css/index.css" rel="stylesheet">
</head>
<body>
  <!-- Header / Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-eng fixed-top">
    <div class="container">
      <a class="navbar-brand" href="/">
        <img src="https://dara-esc.pages.dev/assets/logo.png" alt="Logo" height="40">
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="/">หน้าหลัก</a></li>
          <li class="nav-item"><a class="nav-link" href="/members">สมาชิก</a></li>
          <li class="nav-item"><a class="nav-link" href="/board/">กรรมการบริหาร</a></li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
              เกี่ยวกับเรา
            </a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="/about/">เกี่ยวกับเรา</a></li>
              <li><a class="dropdown-item" href="/statute">ข้อบังคับ</a></li>
              <li><a class="dropdown-item" href="/announce">ประกาศ</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  
  <!-- Banner Section -->
  <section id="section" style="padding-top: calc(3rem + 56.8px) !important; padding-bottom: 3rem !important;">
    <div class="cont-pd bai-jamjuree-medium">
      <h2 class="h5 c2" style="color: #fff;font-family: 'Bai Jamjuree';font-weight: 900;">DARA PRE ENGINEERING SCI-MATH</h2>
      <h2 class="h8 cw" style="color: #fff;font-family: 'Bai Jamjuree';font-weight: 900;">สำนักงานคณะกรรมการบริหาร สภานักเรียนเตรียมวิศวกรรมศาสตร์</h2>
    </div>
  </section>
  
  <!-- Slider -->
  <main class="cont-pd">
    <div id="mainCarousel" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img src="https://dara-esc.pages.dev/IMG/banner.png" class="d-block w-100" alt="Banner 0">
        </div>
        <div class="carousel-item">
          <img src="https://dara-esc.pages.dev/IMG/banner1.png" class="d-block w-100" alt="Banner 1">
        </div>
        <div class="carousel-item">
          <img src="https://dara-esc.pages.dev/IMG/banner2.png" class="d-block w-100" alt="Banner 2">
        </div>
        <div class="carousel-item">
          <img src="https://dara-esc.pages.dev/IMG/banner3.png" class="d-block w-100" alt="Banner 3">
        </div>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#mainCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon"></span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#mainCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon"></span>
      </button>
    </div>
  </main>

  <!-- ข่าวสาร -->
  <section class="container my-5">
    <div class="cont-pd news-start">
          <div class="news" style=" width: 100%; ">
              <div style="display: flex; justify-content: space-between; align-items: center;">
                  <h2>ข่าวสาร</h2>
                  <a href="news/all" class="view-all">ดูทั้งหมด</a>
              </div>
              <ul class="news-list"><li class="news-item">
              <div class="news-image" style=" cursor: pointer; " onclick="window.location.href='https://dara-esc.pages.dev/news/002'">
                  <img src="https://dara-esc.pages.dev/news/news2.png" alt="แสดงความยินดีนักเรียนผ่านรอบ Portfolio #ยืนยันสิทธิ์แล้ว">
              </div>
              <div class="news-details" onclick="window.location.href='https://dara-esc.pages.dev/news/002'">
                  <h3 class="news-title" style=" cursor: pointer; ">แสดงความยินดีนักเรียนผ่านรอบ Portfolio #ยืนยันสิทธิ์แล้ว</h3>
                  <p class="news-date" style=" cursor: pointer; ">วันที่ 7 กุมภาพันธ์ 2568</p> <!-- ใช้วันที่ตรงๆ -->
                  <p class="news-content" style=" cursor: pointer; ">ได้แก่ นายณภัทร ปัญโญ นายพลภูมิ ว่องเจริญ นายศิวัช พุกพูลทรัพย์ และนายภูริ ธาราวิไลสุขสกุล <a href="https://dara-esc.pages.dev/news/002" class="news-link">อ่านเพิ่มเติม...</a></p>
              </div>
          </li><li class="news-item">
              <div class="news-image" style=" cursor: pointer; " onclick="window.location.href='https://dara-esc.pages.dev/news/001'">
                  <img src="https://dara-esc.pages.dev/news/news1.png" alt="ประกาศรายชื่อคณะกรรมการบริหาร สำนักงานคณะกรรมการบริหาร">
              </div>
              <div class="news-details" onclick="window.location.href='https://dara-esc.pages.dev/news/001'">
                  <h3 class="news-title" style=" cursor: pointer; ">ประกาศรายชื่อคณะกรรมการบริหาร สำนักงานคณะกรรมการบริหาร</h3>
                  <p class="news-date" style=" cursor: pointer; ">วันที่ 5 มกราคม 2568</p> <!-- ใช้วันที่ตรงๆ -->
                  <p class="news-content" style=" cursor: pointer; ">ประกาศรายชื่อคณะกรรมการบริหาร สำนักงานคณะกรรมการบริหาร สภานักเรียนเตรียมวิศวกรรมศาสตร์ ประจำปี พ.ศ.2568 มีจำนวน 35 คน ดังนี้ <a href="https://dara-esc.pages.dev/news/001" class="news-link">อ่านเพิ่มเติม...</a></p>
              </div>
          </li></ul>
          </div>
      </div>
  </section>

  <!-- Footer -->
  <footer class="bg-dark text-white text-center py-4">
    <div class="container">
      <p class="mb-0">&copy; 2025 DARA ESC. All rights reserved.</p>
    </div>
  </footer>
  
  <div style=" position: fixed; z-index: 999; background: #fff; bottom: 20px; left: 20px; padding: 0px 10px; border-radius: 5px; border: 1px solid; ">
          <div class="data">
              <p id="members">
                  <i class="fa-solid fa-user" style="padding-right: 10px;font-size: 12px;"></i>
                  จำนวนสมาชิกทั้งหมด <span class="number">204</span> คน
              </p>
              <p id="executives">
                  <i class="fa-solid fa-gear" style="padding-right: 10px;font-size: 12px;"></i>
                  จำนวนผู้บริหาร <span class="number">36</span> คน
              </p>
          </div>
      </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    async function fetchNewsData() {
        try {
            const response = await fetch("https://script.google.com/macros/s/AKfycbwiqJJPzn9RIH2-1QJChwQdTAcVgns0Vk9O4Kcos3EYmwDoY1p-qCOqqykfeCYb-z8A2Q/exec");
            const data = await response.json();
    
            console.log("API Response:", data); // เช็คข้อมูลที่ API ส่งมา
    
            if (Array.isArray(data)) { 
                displayNews(data); // ใช้ data ตรงๆ
            } else {
                console.error("รูปแบบข้อมูลไม่ถูกต้อง", data);
            }
        } catch (error) {
            console.error("เกิดข้อผิดพลาดในการดึงข้อมูล:", error);
        }
    }
    
    // ฟังก์ชันแสดงข่าวสาร
    function displayNews(data) {
        const newsListElement = document.querySelector(".news-list");
        if (!newsListElement) return;
    
        newsListElement.innerHTML = ""; // ล้างข้อมูลเก่า
    
        data.forEach((news) => {
            const listItem = document.createElement("li");
            listItem.className = "news-item";
    
            listItem.innerHTML = `
                <div class="news-image"  style=" cursor: pointer; " onclick="window.location.href='${news.link}'">
                    <img src="${news.image}" alt="${news.title}">
                </div>
                <div class="news-details"  onclick="window.location.href='${news.link}'">
                    <h3 class="news-title"  style=" cursor: pointer; ">${news.title}</h3>
                    <p class="news-date" style=" cursor: pointer; ">วันที่ ${news.date}</p> <!-- ใช้วันที่ตรงๆ -->
                    <p class="news-content"  style=" cursor: pointer; ">${news.content} <a href="${news.link}" class="news-link">อ่านเพิ่มเติม...</a></p>
                </div>
            `;
    
            newsListElement.appendChild(listItem);
        });
    }
    
    // ดึงข้อมูลเมื่อโหลดหน้า
    window.onload = () => {
        fetchNewsData();
    };
    
    </script>
</body>
</html>
